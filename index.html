<!doctypehtml><html lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1"name=viewport><title>Huey—HSL Color Toy</title><style>:root{--color-canvas:hsl(var(--hue), calc(var(--saturation) * 1%), calc(var(--color-lightness) * 1%));--color-light:hsl(var(--hue), 80%, 95%);--color-dark:hsl(var(--hue), 80%, 25%);--color-action-default:hsl(var(--hue), 80%, 98%);--color-action-hover:hsl(var(--hue), 40%, 87%);--color-action-active:hsl(var(--hue), 35%, 80%);--color-shadow:var(--hue) 3% 10%;--typography-typeface-monospace:ui-monospace,monospace;--typography-typeface-sans:system-ui,sans-serif;--typography-size-xl:clamp(3rem, 1.5714rem + 7.1429vw, 8rem);--typography-size-l:clamp(2.5rem, 2.3571rem + 0.7143vw, 3rem);--typography-size-s:clamp(0.8125rem, 0.7768rem + 0.1786vw, 0.9375rem);--typography-leading-open:1.5;--typography-leading-tight:1;--spacing-xs:clamp(0.25rem, 0.1786rem + 0.3571vw, 0.5rem);--spacing-s:clamp(0.375rem, 0.3393rem + 0.1786vw, 0.5rem);--spacing-m:clamp(0.375rem, 0.3036rem + 0.3571vw, 0.625rem);--spacing-l:clamp(0.5rem, 0.3571rem + 0.7143vw, 1rem);--spacing-xl:clamp(1.375rem, 1.3036rem + 0.3571vw, 1.625rem);--circle:50%;--corner:.6rem;--diameter:35vmin;--shadow-strength:1%;--shadow:0 -2px 5px 0 hsl(var(--color-shadow) / calc(var(--shadow-strength) + 2%)),0 1px 1px -2px hsl(var(--color-shadow) / calc(var(--shadow-strength) + 3%)),0 2px 2px -2px hsl(var(--color-shadow) / calc(var(--shadow-strength) + 3%)),0 5px 5px -2px hsl(var(--color-shadow) / calc(var(--shadow-strength) + 4%)),0 9px 9px -2px hsl(var(--color-shadow) / calc(var(--shadow-strength) + 5%)),0 16px 16px -2px hsl(var(--color-shadow) / calc(var(--shadow-strength) + 6%));--top:999}*{box-sizing:border-box;margin:0;padding:0}html{block-size:100%;-moz-text-size-adjust:none;-webkit-text-size-adjust:none;text-size-adjust:none}body{background-color:var(--color-canvas);font-family:var(--typography-typeface-sans);line-height:var(--typography-leading-open);min-block-size:100%;transition:background-color 80ms}h1{background-color:var(--color-dark);border-radius:0 0 var(--corner) var(--corner);color:var(--color-action-default);cursor:pointer;font-family:var(--typography-typeface-monospace);font-size:var(--typography-size-l);line-height:var(--typography-leading-tight);padding-block:.5rem .8rem;padding-inline:var(--spacing-xl);transition:transform 120ms ease-in-out;user-select:none}h1:hover{color:var(--color-action-hover);transform:scale(1.05)!important}h1:active,h1:focus-visible{color:var(--color-action-default);transform:scale(1)!important}button{align-items:center;background-color:var(--color-action-default);border:3px solid var(--color-dark);border-radius:var(--circle);box-shadow:var(--shadow);color:var(--color-dark);cursor:pointer;display:inline-flex;font:inherit;padding:var(--spacing-s);margin:var(--spacing-m);touch-action:manipulation;transition-property:background-color,outline;transition-duration:180ms;transition-timing-function:ease-in-out}button:hover{background-color:var(--color-action-hover)}:where(button:active,button:focus-visible){outline:5px solid hsla(var(--hue) 80% 25% / .5);outline-offset:-1px}button:active{background-color:var(--color-action-active)}main{position:relative;height:var(--diameter);width:var(--diameter)}fieldset{--cell-size:fit-content;--offset:calc(360deg / var(--i-count));position:absolute;top:0;left:0;display:grid;grid:var(--cell-size)/var(--cell-size);place-content:center;height:100%;width:100%;border:none;padding:0!important;transition:opacity .3s ease-out}fieldset>*{grid-area:1/1}input{--angle:calc((var(--i) * var(--offset)) - 90deg);appearance:none;border-radius:var(--circle);cursor:pointer;height:2.75rem;width:2.75rem;touch-action:manipulation;transform:translate3d(calc(cos(var(--angle)) * var(--diameter)),calc(sin(var(--angle)) * var(--diameter)),0);will-change:transform;transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .3s ease-out}:where(input:checked,input:focus-visible){outline:3px solid var(--color-light);z-index:var(--top);transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .3s ease-out,outline .1s ease-out}.transition-indicator{position:absolute;top:50%;left:50%;width:2.75rem;height:2.75rem;border-radius:var(--circle);background:var(--color-light);border:3px solid var(--color-dark);z-index:var(--top);pointer-events:none;transform-origin:center;opacity:1;transition:opacity .3s ease-out;will-change:transform,opacity}.transition-indicator.fade-out{opacity:0}fieldset.dragging input:hover{outline-color:transparent;transition:outline 80ms ease-in-out}fieldset.mode-transitioning{pointer-events:none}fieldset.mode-transitioning input{transition:transform .5s cubic-bezier(.2,.8,.2,1),background-color .4s ease-out}input:focus{z-index:var(--top)}.mode-hue input{background:hsl(calc(var(--i) * 1deg),100%,50%)}.mode-saturation input{background:hsl(var(--hue),calc(var(--i) * 1%),50%)}.mode-lightness input{background:hsl(var(--hue),calc(var(--saturation) * 1%),calc(var(--i) * 1%))}.no-hover *{pointer-events:none!important}.value-display{position:absolute;top:50%;left:50%;height:fit-content;width:fit-content;overflow:visible;pointer-events:none;transform:translate(-50%,-50%);z-index:var(--top)}text{fill:var(--color-light);font-size:var(--typography-size-xl);font-weight:700;dominant-baseline:central;text-anchor:middle;paint-order:stroke;stroke:var(--color-dark);stroke-width:3px;stroke-linejoin:round}a{color:currentColor;text-decoration-color:currentColor;text-underline-offset:.25ex;text-decoration-thickness:.05ex}a:hover{text-decoration-thickness:.1ex}:where(abbr[title]){cursor:help;text-decoration-line:underline;text-decoration-style:dotted}footer small{background-color:var(--color-dark);border-radius:0 var(--corner) 0 0;color:var(--color-light);display:inline-block;font-size:var(--typography-size-s);padding-block:var(--spacing-xs);padding-inline:var(--spacing-l)}footer small:last-of-type{border-radius:var(--corner) 0 0 0}.center{box-sizing:content-box;margin-inline:auto;max-inline-size:none;text-align:center}.cover{display:flex;flex-direction:column;min-block-size:100vh}.cover>*{margin-block:0}.cover>:first-child:not(main){margin-block-start:0}.cover>:last-child:not(main){margin-block-end:0}.cover>main{margin-block:auto}.with-icon{display:inline-flex;align-items:center}.icon{height:2.6cap;width:2.6cap;transition:opacity .3s ease-in-out 240ms}.with-icon .icon{margin-inline-end:0}.icon-check{opacity:0;position:absolute}.copy-success .icon-copy{opacity:0}.copy-success .icon-check{opacity:1}.stack-x{display:flex;flex-wrap:wrap;gap:var(--spacing-l);align-items:flex-start;justify-content:space-between}.visually-hidden:not(:focus):not(:active):not(:focus-within){clip-path:inset(50%);block-size:1px;inline-size:1px;overflow:hidden;position:absolute!important;white-space:nowrap}@media (prefers-reduced-motion:reduce){*,::after,::before{animation-duration:0s!important;animation-iteration-count:1!important;transition-duration:0s!important}}</style><meta content=yes name=mobile-web-app-capable><meta content=black name=apple-mobile-web-app-status-bar-style><meta content="Timothy Martens"name=author><meta content="Huey—HSL Color Toy"name=description><body class="center cover"><header class=stack-x><button class=with-icon id=random-btn title="Random Color"><svg aria-hidden=true class=icon><use href=#icon-random></use></svg> <span class=visually-hidden>Randomize</span></button><h1 class=mode-title title="Switch Modes">H</h1><button class=with-icon id=copy-btn title="Copy Color"><svg aria-hidden=true class="icon icon-copy"><use href=#icon-copy></use></svg> <svg aria-hidden=true class="icon icon-check"><use href=#icon-check></use></svg> <span class=visually-hidden>Copy/Confirm Copy</span></button></header><main class=center><fieldset aria-describedby=color-instructions aria-label="Color component selector"aria-labelledby=mode-title role=radiogroup style=--i-count:360></fieldset><svg aria-hidden=true class=value-display xmlns=http://www.w3.org/2000/svg viewBox="0 0 100 100"><text class=component-value x=50 y=50>360</text></svg></main><div class=visually-hidden id=color-instructions><p>Drag or use arrow keys to adjust the selected color component. Click or tap "H" "S" "L" or Tab to switch between Hue, Saturation, and Lightness modes. Press Home or End to jump to minimum or maximum values. Hold down arrow keys for faster navigation. Click or tap the Random button for a randm color. Click or tap the Copy button to copy the HSL color to your clipboard.</div><footer class=stack-x><small>HUEy—<abbr title="Hue, Saturation, Lightness">HSL</abbr> color toy</small> <small>© '25 <a aria-label="Visit Timothy Martens' website"href=https://timpish.com>Timothy Martens</a></small></footer><svg aria-hidden=true class=visually-hidden xmlns=http://www.w3.org/2000/svg display=none height=0 width=0 xmlns:xlink=http://www.w3.org/1999/xlink><defs><symbol id=icon-random title="Random Color Icon"viewBox="0 0 256 256"><path d="M32 72h23.06a64 64 0 0 1 52.08 26.8l41.72 58.4a64 64 0 0 0 52.08 26.8H232M208 48l24 24-24 24"fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=24 /><path d="m208 160 24 24-24 24M152.77 93.86A64 64 0 0 1 200.94 72H232M32 184h23.06a64 64 0 0 0 48.17-21.86"fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=24 /></symbol><symbol id=icon-copy title="Copy Color Icon"viewBox="0 0 256 256"><path d="M0 0h256v256H0z"fill=none /><path d="M40 76h140v140H40z"fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=24 /><path d="M76 40h140v140"fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=24 /></symbol><symbol id=icon-check title="Confirm Copy Color Icon"viewBox="0 0 256 256"><path d="M0 0h256v256H0z"fill=none /><path d="m40 144 56 56L224 72"fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=24 /></symbol></defs></svg>
<script>const MODES=Object.freeze(["hue","saturation","lightness"]),MODE_RANGES=Object.freeze({hue:{min:1,max:360},saturation:{min:0,max:100},lightness:{min:1,max:100}}),MODE_LABELS=Object.freeze({hue:"H",saturation:"S",lightness:"L"}),generateInitialRandomColor=()=>{const t=Math.floor(360*Math.random())+1,e=Math.floor(21*Math.random())+80,s=Math.floor(21*Math.random())+40,n=document.documentElement;return n.style.setProperty("--hue",t),n.style.setProperty("--saturation",e),n.style.setProperty("--lightness",s),n.style.setProperty("--color-canvas",`hsl(${t}, ${e}%, ${s}%)`),{hue:t,saturation:e,lightness:s}},initialColor=generateInitialRandomColor(),utils={debounce(t,e){let s;return(...n)=>{clearTimeout(s),s=setTimeout((()=>t.apply(this,n)),e)}},hslToRgb(t,e,s){e/=100,s/=100;const n=(1-Math.abs(2*s-1))*e,i=n*(1-Math.abs(t/60%2-1)),o=s-n/2;let a=0,r=0,l=0;switch(Math.floor(t/60)){case 0:[a,r,l]=[n,i,0];break;case 1:[a,r,l]=[i,n,0];break;case 2:[a,r,l]=[0,n,i];break;case 3:[a,r,l]=[0,i,n];break;case 4:[a,r,l]=[i,0,n];break;case 5:[a,r,l]=[n,0,i]}return{r:Math.round(255*(a+o)),g:Math.round(255*(r+o)),b:Math.round(255*(l+o))}},getRelativeLuminance(t,e,s){const n=t=>(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4);return.2126*n(t)+.7152*n(e)+.0722*n(s)},getContrastRatio(t,e){const s=this.getRelativeLuminance(t.r,t.g,t.b),n=this.getRelativeLuminance(e.r,e.g,e.b),[i,o]=[Math.max(s,n),Math.min(s,n)];return(i+.05)/(o+.05)},angleToValue(t,e){const{min:s,max:n}=MODE_RANGES[e];if("hue"===e)return Math.max(1,Math.round(t))||360;const i=t/360;return Math.max(s,Math.min(n,Math.round(s+i*(n-s))))},clamp:(t,e,s)=>Math.max(e,Math.min(s,t))};class ColorState{constructor(t={}){this.state={hue:360,saturation:100,lightness:50,mode:"hue",...t},this.observers=[]}subscribe(t){return this.observers.push(t),()=>this.observers=this.observers.filter((e=>e!==t))}setState(t){const e={...this.state};this.state={...this.state,...t},this.observers.forEach((t=>t(this.state,e)))}get(t){return t?this.state[t]:this.state}}class EventManager{constructor(t){this.toy=t,this.keyHoldStart=0,this.isDragging=!1,this.boundMethods=this.bindMethods()}bindMethods(){return{globalKeydown:this.handleGlobalKeydown.bind(this),fieldsetKeydown:this.handleFieldsetKeydown.bind(this),fieldsetKeyup:this.handleFieldsetKeyup.bind(this),dragStart:this.handleDragStart.bind(this),dragMove:this.handleDragMove.bind(this),dragEnd:this.handleDragEnd.bind(this)}}addListeners(){const{elements:t}=this.toy;t.copyBtn.addEventListener("click",(()=>this.toy.copyHSLToClipboard())),t.randomBtn.addEventListener("click",(()=>this.toy.generateRandomColor())),t.appTitle.addEventListener("click",(()=>this.toy.cycleModes())),t.appTitle.addEventListener("touchend",(t=>{t.preventDefault(),this.toy.cycleModes()})),document.addEventListener("keydown",this.boundMethods.globalKeydown),t.fieldset.addEventListener("keydown",this.boundMethods.fieldsetKeydown),t.fieldset.addEventListener("keyup",this.boundMethods.fieldsetKeyup),t.fieldset.addEventListener("blur",(()=>this.resetKeyHold())),this.addDragListeners()}addDragListeners(){const{main:t}=this.toy.elements;t.addEventListener("mousedown",this.boundMethods.dragStart),document.addEventListener("mousemove",this.boundMethods.dragMove),document.addEventListener("mouseup",this.boundMethods.dragEnd),t.addEventListener("touchstart",this.boundMethods.dragStart,{passive:!1}),document.addEventListener("touchmove",this.boundMethods.dragMove,{passive:!1}),document.addEventListener("touchend",this.boundMethods.dragEnd),t.addEventListener("contextmenu",(t=>t.preventDefault()))}handleGlobalKeydown(t){"Tab"!==t.key||t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||(t.preventDefault(),this.toy.cycleModes())}handleFieldsetKeydown(t){const e=["ArrowRight","ArrowUp","ArrowLeft","ArrowDown"].includes(t.key),s=["Home","End"].includes(t.key);if(!e&&!s)return;t.preventDefault();const n=this.toy.state.get("mode"),{min:i,max:o}=MODE_RANGES[n];return"Home"===t.key?this.toy.setValueAndFocus(i):"End"===t.key?this.toy.setValueAndFocus(o):void this.handleArrowNavigation(t)}handleArrowNavigation(t){0===this.keyHoldStart&&(this.keyHoldStart=Date.now());const e=Date.now()-this.keyHoldStart>1500,s=["ArrowRight","ArrowUp"].includes(t.key);this.toy.navigateValue(s?"forward":"backward",e)}handleFieldsetKeyup(t){["ArrowRight","ArrowUp","ArrowLeft","ArrowDown"].includes(t.key)&&this.resetKeyHold()}handleDragStart(t){t.preventDefault(),this.isDragging=!0;const{main:e,fieldset:s}=this.toy.elements;e.style.cursor="grabbing",document.body.style.userSelect="none",s.classList.add("dragging"),this.handleDragMove(t)}handleDragMove(t){if(!this.isDragging)return;t.preventDefault();const e=t.touches?t.touches[0].clientX:t.clientX,s=t.touches?t.touches[0].clientY:t.clientY,n=this.toy.elements.main.getBoundingClientRect(),i=e-(n.left+n.width/2),o=s-(n.top+n.height/2),a=(Math.atan2(o,i)*(180/Math.PI)+90+360)%360,r=this.toy.state.get("mode"),l=utils.angleToValue(a,r);l!==this.toy.state.get(r)&&(this.toy.state.setState({[r]:l}),this.toy.updateCheckedInput(l))}handleDragEnd(){if(!this.isDragging)return;this.isDragging=!1;const{main:t,fieldset:e}=this.toy.elements;t.style.cursor="",document.body.style.userSelect="",this.toy.focusCurrentValue(),setTimeout((()=>e.classList.remove("dragging")),300)}resetKeyHold(){this.keyHoldStart=0}}class DOMManager{constructor(t){this.toy=t,this.elements=this.cacheElements(),this.debouncedRegeneration=utils.debounce((()=>this.regenerateInputs()),150),this.lastCheckedAngle=null,this.currentTransitionIndicator=null,this.isInitialized=!1}cacheElements(){return{root:document.documentElement,fieldset:document.querySelector("fieldset"),appTitle:document.querySelector(".mode-title"),componentValue:document.querySelector(".component-value"),copyBtn:document.getElementById("copy-btn"),randomBtn:document.getElementById("random-btn"),main:document.querySelector("main")}}updateModeDisplay(t){this.elements.appTitle.textContent=MODE_LABELS[t],this.elements.fieldset.className=`center mode-${t}`,this.elements.fieldset.setAttribute("aria-label",`${t} selector`);const{appTitle:e}=this.elements;e.style.transform="scale(1.1)",e.style.transition="all 120ms ease-in-out",setTimeout((()=>e.style.transform="scale(1)"),120)}regenerateInputs(){const t=this.toy.state.get("mode"),e=this.toy.state.get(t),s=this.elements.fieldset.contains(document.activeElement);this.cleanupTransitionIndicator(),this.elements.fieldset.classList.add("mode-transitioning"),this.elements.fieldset.innerHTML="",this.generateInputs(t),this.addInputListeners();const n=this.elements.fieldset.querySelector(`input[value="${e}"]`);n&&(n.checked=!0,s&&requestAnimationFrame((()=>n.focus()))),this.lastCheckedAngle=this.getAngleForValue(e,t),setTimeout((()=>{this.elements.fieldset.classList.remove("mode-transitioning")}),600)}regenerateInputsWithAnimation(t,e){const s=this.toy.state.get("mode"),n=this.toy.state.get(s),i=this.elements.fieldset.contains(document.activeElement);this.cleanupTransitionIndicator(),this.elements.fieldset.classList.add("mode-transitioning");const o=this.isInitialized&&null!==t&&null!==e&&Math.abs(t-e)>1;o&&this.animateClockwiseTransition(t,e),setTimeout((()=>{if(this.elements.fieldset.innerHTML="",this.generateInputs(s),this.addInputListeners(),o)setTimeout((()=>{const t=this.elements.fieldset.querySelector(`input[value="${n}"]`);t&&(t.checked=!0,i&&requestAnimationFrame((()=>t.focus())))}),150);else{const t=this.elements.fieldset.querySelector(`input[value="${n}"]`);t&&(t.checked=!0,i&&requestAnimationFrame((()=>t.focus())))}this.lastCheckedAngle=this.getAngleForValue(n,s)}),o?100:0),setTimeout((()=>{this.elements.fieldset.classList.remove("mode-transitioning")}),600)}cleanupTransitionIndicator(){this.currentTransitionIndicator&&(this.currentTransitionIndicator.remove(),this.currentTransitionIndicator=null)}getAngleForValue(t,e){const{min:s,max:n}=MODE_RANGES[e];if("hue"===e)return(t-90+360)%360;return(360*((t-s)/(n-s))-90+360)%360}calculateClockwisePath(t,e){const s=(t%360+360)%360,n=(e%360+360)%360,i=(n-s+360)%360,o=(s-n+360)%360,a=i<=o;let r,l;return a?(r=i,l=1):(r=-o,l=-1),{start:s,end:n,totalAngle:r,direction:l,useClockwise:a}}animateClockwiseTransition(t,e){this.cleanupTransitionIndicator();const s=document.createElement("div");s.className="transition-indicator";const n=this.calculateClockwisePath(t,e);this.elements.main.appendChild(s),this.currentTransitionIndicator=s;let i=null;const o=t=>{if(!s.parentNode)return;i||(i=t);const e=t-i,a=Math.min(e/800,1),r=this.easeInOutCubic(a),l=(n.start+n.totalAngle*r)*Math.PI/180,d=35*Math.cos(l),h=35*Math.sin(l);s.style.transform=`translate(calc(-50% + ${d}vmin), calc(-50% + ${h}vmin))`,a<1?requestAnimationFrame(o):(s.classList.add("fade-out"),setTimeout((()=>{s.parentNode&&s.remove(),this.currentTransitionIndicator===s&&(this.currentTransitionIndicator=null)}),300))};requestAnimationFrame(o)}easeInOutCubic(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}generateInputs(t){const{min:e,max:s}=MODE_RANGES[t],n="hue"===t?360:100;this.elements.fieldset.style.setProperty("--i-count",n.toString());const i=document.createDocumentFragment();for(let n=e;n<=s;n++)i.appendChild(this.createRadioInput(n,t));this.elements.fieldset.appendChild(i)}createRadioInput(t,e){const s=document.createElement("input"),n={hue:`${t} degrees`,saturation:`${t} percent saturation`,lightness:`${t} percent lightness`};return Object.assign(s,{type:"radio",name:e.charAt(0),value:t}),s.style.setProperty("--i",t),s.setAttribute("aria-label",n[e]),s}addInputListeners(){this.elements.fieldset.querySelectorAll('input[type="radio"]').forEach((t=>{t.addEventListener("change",(t=>{if(t.target.checked){const e=this.toy.state.get("mode");this.toy.state.setState({[e]:parseInt(t.target.value)}),t.target.focus()}}))}))}updateDisplay({hue:t,saturation:e,lightness:s}){const{root:n,componentValue:i}=this.elements,o=this.toy.state.get("mode");n.style.setProperty("--hue",t),n.style.setProperty("--saturation",e),n.style.setProperty("--lightness",s),n.style.setProperty("--color-canvas",`hsl(${t}, ${e}%, ${s}%)`);const a=this.calculateDynamicColors(t,e,s);n.style.setProperty("--color-dark",a.background),n.style.setProperty("--color-light",a.foreground),i.textContent=this.toy.state.get(o)}calculateDynamicColors(t,e,s){const n=utils.hslToRgb(t,e,s);let i=25;s>80?i=12:s>60?i=18:s>40&&(i=22);const o=utils.clamp(.9*e,40,85);let a=utils.hslToRgb(t,o,i);return utils.getContrastRatio(n,a)<4.5&&(i=Math.max(8,i-5),a=utils.hslToRgb(t,o,i)),{background:`hsl(${t}, ${o}%, ${i}%)`,foreground:`hsl(${t}, ${Math.min(40,.6*o)}%, 92%)`}}}class HSLColorToy{constructor(){this.state=new ColorState(initialColor),this.dom=new DOMManager(this),this.events=new EventManager(this),this.elements=this.dom.elements,this.init()}init(){this.state.subscribe((t=>this.dom.updateDisplay(t))),this.dom.generateInputs(this.state.get("mode")),this.dom.addInputListeners(),this.events.addListeners(),this.setInitialState()}setInitialState(){const t=this.state.get("mode"),e=this.state.get(t);this.dom.updateModeDisplay(t);const s=this.elements.fieldset.querySelector(`input[value="${e}"]`);s&&(s.checked=!0,s.focus()),this.dom.updateDisplay(this.state.get()),this.dom.lastCheckedAngle=this.dom.getAngleForValue(e,t),setTimeout((()=>{this.dom.isInitialized=!0}),100)}cycleModes(){const t=MODES.indexOf(this.state.get("mode")),e=MODES[(t+1)%MODES.length];this.switchMode(e),this.focusCurrentValue()}switchMode(t){const e=this.state.get("mode"),s=this.state.get(e),n=this.dom.getAngleForValue(s,e);this.state.setState({mode:t}),this.dom.updateModeDisplay(t);const i=this.state.get(t),o=this.dom.getAngleForValue(i,t);this.dom.regenerateInputsWithAnimation(n,o)}setValueAndFocus(t){const e=this.elements.fieldset.querySelector(`input[value="${t}"]`);if(e){e.checked=!0,e.focus();const s=this.state.get("mode");this.state.setState({[s]:t})}}updateCheckedInput(t){const e=this.elements.fieldset.querySelector(`input[value="${t}"]`);e&&(e.checked=!0)}focusCurrentValue(){setTimeout((()=>{const t=this.state.get(this.state.get("mode")),e=this.elements.fieldset.querySelector(`input[value="${t}"]`);e&&(e.checked=!0,e.focus())}),10)}navigateValue(t,e=!1){const s=this.elements.fieldset.querySelector("input:checked");if(!s)return;const n=parseInt(s.value),i=this.state.get("mode"),o=e?9:1,{min:a,max:r}=MODE_RANGES[i];let l;"forward"===t?(l=n+o,l>r&&(l="hue"===i?l-360:a)):(l=n-o,l<a&&(l="hue"===i?360+l:r)),this.setValueAndFocus(l)}generateRandomColor(){const t=this.state.get("mode"),e=this.state.get(t),s=this.dom.getAngleForValue(e,t);this.state.setState({hue:Math.floor(360*Math.random())+1,saturation:Math.floor(21*Math.random())+80,lightness:Math.floor(21*Math.random())+40});const n=this.state.get(t),i=this.dom.getAngleForValue(n,t);this.dom.animateClockwiseTransition(s,i),this.focusCurrentValue()}async copyHSLToClipboard(){const{hue:t,saturation:e,lightness:s}=this.state.get(),n=`hsl(${t}, ${e}%, ${s}%)`;try{await navigator.clipboard.writeText(n),this.showCopySuccess()}catch(t){this.fallbackCopy(n),this.showCopySuccess()}}fallbackCopy(t){const e=Object.assign(document.createElement("textarea"),{value:t});document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}showCopySuccess(){this.elements.copyBtn.classList.add("copy-success"),setTimeout((()=>this.elements.copyBtn.classList.remove("copy-success")),1e3)}}document.addEventListener("DOMContentLoaded",(()=>{try{new HSLColorToy}catch(t){console.error("Error initializing HSL Color Toy:",t)}}));</script></body></html>
