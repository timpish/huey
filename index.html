<!doctypehtml><html lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1"name=viewport><title>Huey—HSL Color Toy</title><style>:root{--hue:360;--saturation:100;--lightness:50;--color-canvas:hsl(var(--hue), calc(var(--saturation) * 1%), calc(var(--color-lightness) * 1%));--color-light:hsl(var(--hue), 80%, 95%);--color-dark:hsl(var(--hue), 80%, 25%);--color-action-default:hsl(var(--hue), 80%, 98%);--color-action-hover:hsl(var(--hue), 40%, 87%);--color-action-active:hsl(var(--hue), 35%, 80%);--color-shadow:var(--hue) 3% 10%;--typography-typeface-monospace:ui-monospace,monospace;--typography-typeface-sans:system-ui,sans-serif;--typography-size-xl:clamp(3rem, 1.5714rem + 7.1429vw, 8rem);--typography-size-l:clamp(2.5rem, 2.3571rem + 0.7143vw, 3rem);--typography-size-s:clamp(0.8125rem, 0.7768rem + 0.1786vw, 0.9375rem);--typography-size-icon:clamp(2.4cap, 2.357cap + 0.036vw, 2.8cap);--typography-leading-open:1.5;--typography-leading-tight:1;--spacing-xs:clamp(0.25rem, 0.1786rem + 0.3571vw, 0.5rem);--spacing-s:clamp(0.375rem, 0.3393rem + 0.1786vw, 0.5rem);--spacing-m:clamp(0.375rem, 0.3036rem + 0.3571vw, 0.625rem);--spacing-l:clamp(0.5rem, 0.3571rem + 0.7143vw, 1rem);--spacing-xl:clamp(1.375rem, 1.3036rem + 0.3571vw, 1.625rem);--circle:50%;--corner:.6rem;--diameter:35vmin;--shadow-strength:1%;--shadow:0 -2px 5px 0 hsl(var(--color-shadow) / calc(var(--shadow-strength) + 2%)),0 1px 1px -2px hsl(var(--color-shadow) / calc(var(--shadow-strength) + 3%)),0 2px 2px -2px hsl(var(--color-shadow) / calc(var(--shadow-strength) + 3%)),0 5px 5px -2px hsl(var(--color-shadow) / calc(var(--shadow-strength) + 4%)),0 9px 9px -2px hsl(var(--color-shadow) / calc(var(--shadow-strength) + 5%)),0 16px 16px -2px hsl(var(--color-shadow) / calc(var(--shadow-strength) + 6%));--top:999}*{box-sizing:border-box;margin:0;padding:0}html{block-size:100%;-moz-text-size-adjust:none;-webkit-text-size-adjust:none;text-size-adjust:none}body{background-color:var(--color-canvas);font-family:var(--typography-typeface-sans);line-height:var(--typography-leading-open);min-block-size:100%;transition:background-color 80ms}h1{background-color:var(--color-dark);color:var(--color-light);border-radius:0 0 var(--corner) var(--corner);font-family:var(--typography-typeface-monospace);font-size:var(--typography-size-l);line-height:var(--typography-leading-tight);padding-block:.5rem .8rem;padding-inline:var(--spacing-xl)}button{align-items:center;background-color:var(--color-action-default);border:3px solid var(--color-dark);border-radius:var(--circle);box-shadow:var(--shadow);color:var(--color-dark);cursor:pointer;display:inline-flex;font:inherit;padding:var(--spacing-s);margin:var(--spacing-m);touch-action:manipulation;transition-property:background-color,outline;transition-duration:180ms;transition-timing-function:ease-in-out}button:hover{background-color:var(--color-action-hover)}:where(button:active,button:focus-visible){outline:5px solid hsla(var(--hue) 80% 25% / .5);outline-offset:-1px}button:active{background-color:var(--color-action-active)}main{position:relative;height:var(--diameter);width:var(--diameter)}fieldset{--cell-size:fit-content;--offset:calc(360deg / var(--i-count));position:absolute;top:0;left:0;display:grid;grid:var(--cell-size)/var(--cell-size);place-content:center;height:100%;width:100%;border:none;padding:0!important}fieldset>*{grid-area:1/1}input{--angle:calc((var(--i) * var(--offset)) - 90deg);appearance:none;border-radius:var(--circle);cursor:pointer;height:2.75rem;width:2.75rem;touch-action:manipulation;translate:calc(cos(var(--angle)) * var(--diameter)) calc(sin(var(--angle)) * var(--diameter))}:where(input:checked,input:focus-visible,input:hover){outline:3px solid #fff;z-index:var(--top)}input:focus{z-index:var(--top)}.mode-hue input{background:hsl(calc(var(--i) * 1deg),100%,50%)}.mode-saturation input{background:hsl(var(--hue),calc(var(--i) * 1%),50%)}.mode-lightness input{background:hsl(var(--hue),calc(var(--saturation) * 1%),calc(var(--i) * 1%))}.value-display{position:absolute;top:50%;left:50%;height:fit-content;width:fit-content;overflow:visible;pointer-events:none;transform:translate(-50%,-50%);z-index:var(--top)}text{fill:var(--color-light);font-size:var(--typography-size-xl);font-weight:700;dominant-baseline:central;text-anchor:middle;paint-order:stroke;stroke:var(--color-dark);stroke-width:3px;stroke-linejoin:round}a{color:currentColor;text-decoration-color:currentColor;text-underline-offset:.25ex;text-decoration-thickness:.05ex}a:hover{text-decoration-thickness:.1ex}:where(abbr[title]){cursor:help;text-decoration-line:underline;text-decoration-style:dotted}footer small{background-color:var(--color-dark);border-radius:0 var(--corner) 0 0;color:var(--color-light);display:inline-block;font-size:var(--typography-size-s);padding-block:var(--spacing-xs);padding-inline:var(--spacing-l)}footer small:last-of-type{border-radius:var(--corner) 0 0 0}.center{box-sizing:content-box;margin-inline:auto;max-inline-size:none;text-align:center}.cover{display:flex;flex-direction:column;min-block-size:100vh}.cover>*{margin-block:0}.cover>:first-child:not(main){margin-block-start:0}.cover>:last-child:not(main){margin-block-end:0}.cover>main{margin-block:auto}.with-icon{display:inline-flex;align-items:center}.icon{height:2.6cap;width:2.6cap;transition:opacity .3s ease-in-out 240ms}.with-icon .icon{margin-inline-end:0}.icon-check{opacity:0;position:absolute}.copy-success .icon-copy{opacity:0}.copy-success .icon-check{opacity:1}.stack-x{display:flex;flex-wrap:wrap;gap:var(--spacing-l);align-items:flex-start;justify-content:space-between}.visually-hidden:not(:focus):not(:active):not(:focus-within){clip-path:inset(50%);block-size:1px;inline-size:1px;overflow:hidden;position:absolute!important;white-space:nowrap}</style><meta content=yes name=mobile-web-app-capable><meta content=black name=apple-mobile-web-app-status-bar-style><meta content="Timothy Martens"name=author><meta content="Huey—HSL Color Toy"name=description><body class="center cover"><header class=stack-x><button class=with-icon id=random-btn><svg aria-hidden=true class=icon><use href=#icon-random></use></svg> <span class=visually-hidden>Refresh</span></button><h1 class=mode-title>H</h1><button class=with-icon id=copy-btn><svg aria-hidden=true class="icon icon-copy"><use href=#icon-copy></use></svg> <svg aria-hidden=true class="icon icon-check"><use href=#icon-check></use></svg> <span class=visually-hidden>Copy/Confirm Copy</span></button></header><main class=center><fieldset aria-describedby=color-instructions aria-label="Color component selector"aria-labelledby=mode-title role=radiogroup style=--i-count:360></fieldset><svg aria-hidden=true class=value-display xmlns=http://www.w3.org/2000/svg viewBox="0 0 100 100"><text class=component-value x=50 y=50>360</text></svg></main><div class=visually-hidden id=color-instructions><p>Use arrow keys to adjust the selected color component. Press Tab to switch between Hue, Saturation, and Lightness modes. Press Home or End to jump to minimum or maximum values. Hold down arrow keys for faster navigation.</div><footer class=stack-x><small>HUEy—<abbr title="Hue, Saturation, Lightness">HSL</abbr> color toy</small> <small>© '25 <a aria-label="Visit Timothy Martens' website"href=https://timpish.com>Timothy Martens</a></small></footer><svg aria-hidden=true class=visually-hidden xmlns=http://www.w3.org/2000/svg display=none height=0 width=0 xmlns:xlink=http://www.w3.org/1999/xlink><defs><symbol id=icon-random title="Random Color Icon"viewBox="0 0 256 256"><path d="M32 72h23.06a64 64 0 0 1 52.08 26.8l41.72 58.4a64 64 0 0 0 52.08 26.8H232M208 48l24 24-24 24"fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=24 /><path d="m208 160 24 24-24 24M152.77 93.86A64 64 0 0 1 200.94 72H232M32 184h23.06a64 64 0 0 0 48.17-21.86"fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=24 /></symbol><symbol id=icon-copy title="Copy Color Icon"viewBox="0 0 256 256"><path d="M0 0h256v256H0z"fill=none /><path d="M40 76h140v140H40z"fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=24 /><path d="M76 40h140v140"fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=24 /></symbol><symbol id=icon-check title="Confirm Copy Color Icon"viewBox="0 0 256 256"><path d="M0 0h256v256H0z"fill=none /><path d="m40 144 56 56L224 72"fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=24 /></symbol></defs></svg><script>class HSLColorToy{constructor(){this.state={hue:360,saturation:100,lightness:50,mode:"hue"},this.modes=["hue","saturation","lightness"],this.keyHoldStart=0,this.regenerationTimer=null,this.REGENERATION_DELAY=150,this.elements={},this.init()}init(){this.cacheElements(),this.generateInputs(),this.addEventListeners(),this.setInitialState()}cacheElements(){this.elements={root:document.documentElement,fieldset:document.querySelector("fieldset"),appTitle:document.querySelector(".mode-title"),componentValue:document.querySelector(".component-value"),copyBtn:document.getElementById("copy-btn"),randomBtn:document.getElementById("random-btn")}}setInitialState(){this.switchMode(this.state.mode);const e=this.state[this.state.mode],t=this.elements.fieldset.querySelector(`input[value="${e}"]`);t&&(t.checked=!0,t.focus()),this.updateDisplay()}addEventListeners(){this.elements.copyBtn.addEventListener("click",(()=>this.copyHSLToClipboard())),this.elements.randomBtn.addEventListener("click",(()=>this.generateRandomColor())),document.addEventListener("keydown",(e=>this.handleGlobalKeydown(e))),this.elements.fieldset.addEventListener("keydown",(e=>this.handleFieldsetKeydown(e))),this.elements.fieldset.addEventListener("keyup",(e=>this.handleFieldsetKeyup(e))),this.elements.fieldset.addEventListener("blur",(()=>this.resetKeyHold())),this.addInputListeners()}handleGlobalKeydown(e){if(!("Tab"!==e.key||e.shiftKey||e.ctrlKey||e.altKey||e.metaKey)){e.preventDefault();const t=(this.modes.indexOf(this.state.mode)+1)%this.modes.length;return this.switchMode(this.modes[t]),void this.ensureFocusAfterModeSwitch()}}ensureFocusAfterModeSwitch(){setTimeout((()=>{const e=this.state[this.state.mode],t=this.elements.fieldset.querySelector(`input[value="${e}"]`);t?(t.checked=!0,t.focus()):this.elements.fieldset.focus()}),10)}handleFieldsetKeydown(e){const t=["ArrowRight","ArrowUp","ArrowLeft","ArrowDown"].includes(e.key),s=["Home","End"].includes(e.key);if(!t&&!s)return;e.preventDefault();const{min:i,max:n}=this.getModeRange(this.state.mode);"Home"!==e.key?"End"!==e.key?this.handleArrowNavigation(e):this.setValueAndFocus(n):this.setValueAndFocus(i)}handleArrowNavigation(e){0===this.keyHoldStart&&(this.keyHoldStart=Date.now());const t=Date.now()-this.keyHoldStart>1500,s="ArrowRight"===e.key||"ArrowUp"===e.key;this.navigateValue(s?"forward":"backward",t)}handleFieldsetKeyup(e){["ArrowRight","ArrowUp","ArrowLeft","ArrowDown"].includes(e.key)&&this.resetKeyHold()}resetKeyHold(){this.keyHoldStart=0}getModeRange(e){switch(e){case"hue":return{min:1,max:360};case"saturation":default:return{min:0,max:100};case"lightness":return{min:1,max:100}}}setValueAndFocus(e){const t=this.elements.fieldset.querySelector(`input[value="${e}"]`);t&&(t.checked=!0,t.focus(),this.state[this.state.mode]=e,this.updateDisplay())}navigateValue(e,t=!1){const s=this.elements.fieldset.querySelector("input:checked");if(!s)return;const i=parseInt(s.value),n=this.state.mode,o=t?9:1,{min:a,max:r}=this.getModeRange(n);let l;"forward"===e?(l=i+o,l>r&&(l="hue"===n?l-360:a)):(l=i-o,l<a&&(l="hue"===n?360+l:r)),this.setValueAndFocus(l)}switchMode(e){const t=this.state.mode;this.state.mode=e,this.updateModeDisplay(e),this.debouncedRegeneration(),this.updateDisplay(),console.log(`Mode switched: ${t} → ${e}`)}debouncedRegeneration(){this.regenerationTimer&&clearTimeout(this.regenerationTimer),this.regenerationTimer=setTimeout((()=>{this.regenerateInputs(),this.regenerationTimer=null}),this.REGENERATION_DELAY)}updateModeDisplay(e){this.elements.appTitle.textContent={hue:"H",saturation:"S",lightness:"L"}[e],this.elements.fieldset.className=`center mode-${e}`,this.elements.fieldset.setAttribute("aria-label",`${e} selector`),this.elements.appTitle.style.transform="scale(1.1)",this.elements.appTitle.style.transition="transform 0.15s ease-out",setTimeout((()=>{this.elements.appTitle.style.transform="scale(1)"}),150)}regenerateInputs(){const e=this.elements.fieldset.contains(document.activeElement),t=this.state[this.state.mode];this.elements.fieldset.innerHTML="",this.generateInputs(),this.addInputListeners();const s=this.elements.fieldset.querySelector(`input[value="${t}"]`);s&&(s.checked=!0,e&&requestAnimationFrame((()=>{s.focus()})))}generateInputs(){const e=this.state.mode,{min:t,max:s}=this.getModeRange(e),i="hue"===e?360:100;this.elements.fieldset.style.setProperty("--i-count",i.toString());const n=document.createDocumentFragment();for(let i=t;i<=s;i++){const t=this.createRadioInput(i,e);n.appendChild(t)}this.elements.fieldset.appendChild(n)}createRadioInput(e,t){const s=document.createElement("input");s.type="radio",s.name=t.charAt(0),s.value=e,s.style.setProperty("--i",e);const i={hue:`${e} degrees`,saturation:`${e} percent saturation`,lightness:`${e} percent lightness`};return s.setAttribute("aria-label",i[t]),s}addInputListeners(){this.elements.fieldset.querySelectorAll('input[type="radio"]').forEach((e=>{e.addEventListener("change",(e=>{e.target.checked&&(this.state[this.state.mode]=parseInt(e.target.value),this.updateDisplay(),e.target.focus())}))}))}updateDisplay(){this.updateCSSProperties(),this.updateColorValues(),this.updateDisplayText()}updateCSSProperties(){const{hue:e,saturation:t,lightness:s}=this.state,i=this.elements.root;i.style.setProperty("--hue",e),i.style.setProperty("--saturation",t),i.style.setProperty("--lightness",s),i.style.setProperty("--color-canvas",`hsl(${e}, ${t}%, ${s}%)`)}updateColorValues(){const{hue:e,saturation:t,lightness:s}=this.state,i=this.calculateDynamicColors(e,t,s);this.elements.root.style.setProperty("--color-dark",i.background),this.elements.root.style.setProperty("--color-light",i.foreground)}updateDisplayText(){const e=this.state[this.state.mode];this.elements.componentValue.textContent=e}calculateDynamicColors(e,t,s){const i=this.hslToRgb(e,t,s);let n;n=s>80?12:s>60?18:s>40?22:25;const o=Math.min(85,Math.max(40,.9*t));let a=this.hslToRgb(e,o,n);this.getContrastRatio(i,a)<4.5&&(n=Math.max(8,n-5),a=this.hslToRgb(e,o,n));return{background:`hsl(${e}, ${o}%, ${n}%)`,foreground:`hsl(${e}, ${Math.min(40,.6*o)}%, 92%)`}}generateRandomColor(){this.state.hue=Math.floor(360*Math.random())+1,this.state.saturation=Math.floor(21*Math.random())+80,this.state.lightness=Math.floor(21*Math.random())+40,this.updateDisplay();const e=this.state[this.state.mode],t=this.elements.fieldset.querySelector(`input[value="${e}"]`);t&&(t.checked=!0,t.focus())}async copyHSLToClipboard(){const{hue:e,saturation:t,lightness:s}=this.state,i=`hsl(${e}, ${t}%, ${s}%)`;try{await navigator.clipboard.writeText(i),this.showCopySuccess()}catch(e){console.error("Failed to copy color to clipboard:",e),this.fallbackCopy(i),this.showCopySuccess()}}fallbackCopy(e){const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}showCopySuccess(){this.elements.copyBtn.classList.add("copy-success"),setTimeout((()=>{this.elements.copyBtn.classList.remove("copy-success")}),1e3)}hslToRgb(e,t,s){t/=100,s/=100;const i=(1-Math.abs(2*s-1))*t,n=i*(1-Math.abs(e/60%2-1)),o=s-i/2;let a=0,r=0,l=0;return 0<=e&&e<60?(a=i,r=n,l=0):60<=e&&e<120?(a=n,r=i,l=0):120<=e&&e<180?(a=0,r=i,l=n):180<=e&&e<240?(a=0,r=n,l=i):240<=e&&e<300?(a=n,r=0,l=i):300<=e&&e<360&&(a=i,r=0,l=n),{r:Math.round(255*(a+o)),g:Math.round(255*(r+o)),b:Math.round(255*(l+o))}}getRelativeLuminance(e,t,s){return t/=255,s/=255,.2126*(e=(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(s=s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4))}getContrastRatio(e,t){const s=this.getRelativeLuminance(e.r,e.g,e.b),i=this.getRelativeLuminance(t.r,t.g,t.b);return(Math.max(s,i)+.05)/(Math.min(s,i)+.05)}}document.addEventListener("DOMContentLoaded",(()=>{try{new HSLColorToy}catch(e){console.error("Error initializing HSL Color Toy:",e)}}));</script></body></html>
