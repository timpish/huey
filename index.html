<!doctypehtml><html lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1"name=viewport><title>Huey—HSL Color Toy</title><style>:root{--hue:360;--saturation:100;--lightness:50;--color-canvas:hsl(var(--hue), calc(var(--saturation) * 1%), calc(var(--color-lightness) * 1%));--color-light:hsl(var(--hue), 80%, 95%);--color-dark:hsl(var(--hue), 80%, 25%);--color-action-default:hsl(var(--hue), 80%, 98%);--color-action-hover:hsl(var(--hue), 40%, 87%);--color-action-active:hsl(var(--hue), 35%, 80%);--color-shadow:var(--hue) 3% 10%;--typography-typeface-monospace:ui-monospace,monospace;--typography-typeface-sans:system-ui,sans-serif;--typography-size-xl:clamp(3rem, 1.5714rem + 7.1429vw, 8rem);--typography-size-l:clamp(2.5rem, 2.3571rem + 0.7143vw, 3rem);--typography-size-s:clamp(0.8125rem, 0.7768rem + 0.1786vw, 0.9375rem);--typography-size-icon:clamp(2.4cap, 2.357cap + 0.036vw, 2.8cap);--typography-leading-open:1.5;--typography-leading-tight:1;--spacing-xs:clamp(0.25rem, 0.1786rem + 0.3571vw, 0.5rem);--spacing-s:clamp(0.375rem, 0.3393rem + 0.1786vw, 0.5rem);--spacing-m:clamp(0.375rem, 0.3036rem + 0.3571vw, 0.625rem);--spacing-l:clamp(0.5rem, 0.3571rem + 0.7143vw, 1rem);--spacing-xl:clamp(1.375rem, 1.3036rem + 0.3571vw, 1.625rem);--circle:50%;--corner:.6rem;--diameter:35vmin;--shadow-strength:1%;--shadow:0 -2px 5px 0 hsl(var(--color-shadow) / calc(var(--shadow-strength) + 2%)),0 1px 1px -2px hsl(var(--color-shadow) / calc(var(--shadow-strength) + 3%)),0 2px 2px -2px hsl(var(--color-shadow) / calc(var(--shadow-strength) + 3%)),0 5px 5px -2px hsl(var(--color-shadow) / calc(var(--shadow-strength) + 4%)),0 9px 9px -2px hsl(var(--color-shadow) / calc(var(--shadow-strength) + 5%)),0 16px 16px -2px hsl(var(--color-shadow) / calc(var(--shadow-strength) + 6%));--top:999}*{box-sizing:border-box;margin:0;padding:0}html{block-size:100%;-moz-text-size-adjust:none;-webkit-text-size-adjust:none;text-size-adjust:none}body{background-color:var(--color-canvas);font-family:var(--typography-typeface-sans);line-height:var(--typography-leading-open);min-block-size:100%;transition:background-color 80ms}h1{background-color:var(--color-dark);border-radius:0 0 var(--corner) var(--corner);color:var(--color-action-default);cursor:pointer;font-family:var(--typography-typeface-monospace);font-size:var(--typography-size-l);line-height:var(--typography-leading-tight);padding-block:.5rem .8rem;padding-inline:var(--spacing-xl);transition:transform 120ms ease-in-out;user-select:none}h1:hover{color:var(--color-action-hover);transform:scale(1.05)!important}h1:active,h1:focus-visible{color:var(--color-action-default);transform:scale(1)!important}button{align-items:center;background-color:var(--color-action-default);border:3px solid var(--color-dark);border-radius:var(--circle);box-shadow:var(--shadow);color:var(--color-dark);cursor:pointer;display:inline-flex;font:inherit;padding:var(--spacing-s);margin:var(--spacing-m);touch-action:manipulation;transition-property:background-color,outline;transition-duration:180ms;transition-timing-function:ease-in-out}button:hover{background-color:var(--color-action-hover)}:where(button:active,button:focus-visible){outline:5px solid hsla(var(--hue) 80% 25% / .5);outline-offset:-1px}button:active{background-color:var(--color-action-active)}main{position:relative;height:var(--diameter);width:var(--diameter)}fieldset{--cell-size:fit-content;--offset:calc(360deg / var(--i-count));position:absolute;top:0;left:0;display:grid;grid:var(--cell-size)/var(--cell-size);place-content:center;height:100%;width:100%;border:none;padding:0!important}fieldset>*{grid-area:1/1}input{--angle:calc((var(--i) * var(--offset)) - 90deg);appearance:none;border-radius:var(--circle);cursor:pointer;height:2.75rem;width:2.75rem;touch-action:manipulation;transform:translate3d(calc(cos(var(--angle)) * var(--diameter)),calc(sin(var(--angle)) * var(--diameter)),0);will-change:transform}:where(input:checked,input:focus-visible){outline:3px solid #fff;z-index:var(--top);transition:none}fieldset.dragging input:hover{outline-color:transparent;transition:outline 80ms ease-in-out}input:focus{z-index:var(--top)}.mode-hue input{background:hsl(calc(var(--i) * 1deg),100%,50%)}.mode-saturation input{background:hsl(var(--hue),calc(var(--i) * 1%),50%)}.mode-lightness input{background:hsl(var(--hue),calc(var(--saturation) * 1%),calc(var(--i) * 1%))}.no-hover *{pointer-events:none!important}.value-display{position:absolute;top:50%;left:50%;height:fit-content;width:fit-content;overflow:visible;pointer-events:none;transform:translate(-50%,-50%);z-index:var(--top)}text{fill:var(--color-light);font-size:var(--typography-size-xl);font-weight:700;dominant-baseline:central;text-anchor:middle;paint-order:stroke;stroke:var(--color-dark);stroke-width:3px;stroke-linejoin:round}a{color:currentColor;text-decoration-color:currentColor;text-underline-offset:.25ex;text-decoration-thickness:.05ex}a:hover{text-decoration-thickness:.1ex}:where(abbr[title]){cursor:help;text-decoration-line:underline;text-decoration-style:dotted}footer small{background-color:var(--color-dark);border-radius:0 var(--corner) 0 0;color:var(--color-light);display:inline-block;font-size:var(--typography-size-s);padding-block:var(--spacing-xs);padding-inline:var(--spacing-l)}footer small:last-of-type{border-radius:var(--corner) 0 0 0}.center{box-sizing:content-box;margin-inline:auto;max-inline-size:none;text-align:center}.cover{display:flex;flex-direction:column;min-block-size:100vh}.cover>*{margin-block:0}.cover>:first-child:not(main){margin-block-start:0}.cover>:last-child:not(main){margin-block-end:0}.cover>main{margin-block:auto}.with-icon{display:inline-flex;align-items:center}.icon{height:2.6cap;width:2.6cap;transition:opacity .3s ease-in-out 240ms}.with-icon .icon{margin-inline-end:0}.icon-check{opacity:0;position:absolute}.copy-success .icon-copy{opacity:0}.copy-success .icon-check{opacity:1}.stack-x{display:flex;flex-wrap:wrap;gap:var(--spacing-l);align-items:flex-start;justify-content:space-between}.visually-hidden:not(:focus):not(:active):not(:focus-within){clip-path:inset(50%);block-size:1px;inline-size:1px;overflow:hidden;position:absolute!important;white-space:nowrap}</style><meta content=yes name=mobile-web-app-capable><meta content=black name=apple-mobile-web-app-status-bar-style><meta content="Timothy Martens"name=author><meta content="Huey—HSL Color Toy"name=description><body class="center cover"><header class=stack-x><button class=with-icon id=random-btn title="Random Color"><svg aria-hidden=true class=icon><use href=#icon-random></use></svg> <span class=visually-hidden>Randomize</span></button><h1 class=mode-title title="Switch Modes">H</h1><button class=with-icon id=copy-btn title="Copy Color"><svg aria-hidden=true class="icon icon-copy"><use href=#icon-copy></use></svg> <svg aria-hidden=true class="icon icon-check"><use href=#icon-check></use></svg> <span class=visually-hidden>Copy/Confirm Copy</span></button></header><main class=center><fieldset aria-describedby=color-instructions aria-label="Color component selector"aria-labelledby=mode-title role=radiogroup style=--i-count:360></fieldset><svg aria-hidden=true class=value-display xmlns=http://www.w3.org/2000/svg viewBox="0 0 100 100"><text class=component-value x=50 y=50>360</text></svg></main><div class=visually-hidden id=color-instructions><p>Use arrow keys to adjust the selected color component. Press Tab to switch between Hue, Saturation, and Lightness modes. Press Home or End to jump to minimum or maximum values. Hold down arrow keys for faster navigation.</div><footer class=stack-x><small>HUEy—<abbr title="Hue, Saturation, Lightness">HSL</abbr> color toy</small> <small>© '25 <a aria-label="Visit Timothy Martens' website"href=https://timpish.com>Timothy Martens</a></small></footer><svg aria-hidden=true class=visually-hidden xmlns=http://www.w3.org/2000/svg display=none height=0 width=0 xmlns:xlink=http://www.w3.org/1999/xlink><defs><symbol id=icon-random title="Random Color Icon"viewBox="0 0 256 256"><path d="M32 72h23.06a64 64 0 0 1 52.08 26.8l41.72 58.4a64 64 0 0 0 52.08 26.8H232M208 48l24 24-24 24"fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=24 /><path d="m208 160 24 24-24 24M152.77 93.86A64 64 0 0 1 200.94 72H232M32 184h23.06a64 64 0 0 0 48.17-21.86"fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=24 /></symbol><symbol id=icon-copy title="Copy Color Icon"viewBox="0 0 256 256"><path d="M0 0h256v256H0z"fill=none /><path d="M40 76h140v140H40z"fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=24 /><path d="M76 40h140v140"fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=24 /></symbol><symbol id=icon-check title="Confirm Copy Color Icon"viewBox="0 0 256 256"><path d="M0 0h256v256H0z"fill=none /><path d="m40 144 56 56L224 72"fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=24 /></symbol></defs></svg><script>const MODES=Object.freeze(["hue","saturation","lightness"]),MODE_RANGES=Object.freeze({hue:{min:1,max:360},saturation:{min:0,max:100},lightness:{min:1,max:100}}),MODE_LABELS=Object.freeze({hue:"H",saturation:"S",lightness:"L"}),REGENERATION_DELAY=150,utils={debounce(e,t){let s;return(...n)=>{clearTimeout(s),s=setTimeout((()=>e.apply(this,n)),t)}},hslToRgb(e,t,s){t/=100,s/=100;const n=(1-Math.abs(2*s-1))*t,o=n*(1-Math.abs(e/60%2-1)),a=s-n/2;let i=0,r=0,d=0;switch(Math.floor(e/60)){case 0:[i,r,d]=[n,o,0];break;case 1:[i,r,d]=[o,n,0];break;case 2:[i,r,d]=[0,n,o];break;case 3:[i,r,d]=[0,o,n];break;case 4:[i,r,d]=[o,0,n];break;case 5:[i,r,d]=[n,0,o]}return{r:Math.round(255*(i+a)),g:Math.round(255*(r+a)),b:Math.round(255*(d+a))}},getRelativeLuminance(e,t,s){const n=e=>(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4);return.2126*n(e)+.7152*n(t)+.0722*n(s)},getContrastRatio(e,t){const s=this.getRelativeLuminance(e.r,e.g,e.b),n=this.getRelativeLuminance(t.r,t.g,t.b),[o,a]=[Math.max(s,n),Math.min(s,n)];return(o+.05)/(a+.05)},angleToValue(e,t){const{min:s,max:n}=MODE_RANGES[t];if("hue"===t)return Math.max(1,Math.round(e))||360;const o=e/360;return Math.max(s,Math.min(n,Math.round(s+o*(n-s))))},clamp:(e,t,s)=>Math.max(t,Math.min(s,e))};class ColorState{constructor(){this.state={hue:360,saturation:100,lightness:50,mode:"hue"},this.observers=[]}subscribe(e){return this.observers.push(e),()=>this.observers=this.observers.filter((t=>t!==e))}setState(e){const t={...this.state};this.state={...this.state,...e},this.observers.forEach((e=>e(this.state,t)))}get(e){return e?this.state[e]:this.state}}class EventManager{constructor(e){this.toy=e,this.keyHoldStart=0,this.isDragging=!1,this.boundMethods=this.bindMethods()}bindMethods(){return{globalKeydown:this.handleGlobalKeydown.bind(this),fieldsetKeydown:this.handleFieldsetKeydown.bind(this),fieldsetKeyup:this.handleFieldsetKeyup.bind(this),dragStart:this.handleDragStart.bind(this),dragMove:this.handleDragMove.bind(this),dragEnd:this.handleDragEnd.bind(this)}}addListeners(){const{elements:e}=this.toy;e.copyBtn.addEventListener("click",(()=>this.toy.copyHSLToClipboard())),e.randomBtn.addEventListener("click",(()=>this.toy.generateRandomColor())),e.appTitle.addEventListener("click",(()=>this.toy.cycleModes())),e.appTitle.addEventListener("touchend",(e=>{e.preventDefault(),this.toy.cycleModes()})),document.addEventListener("keydown",this.boundMethods.globalKeydown),e.fieldset.addEventListener("keydown",this.boundMethods.fieldsetKeydown),e.fieldset.addEventListener("keyup",this.boundMethods.fieldsetKeyup),e.fieldset.addEventListener("blur",(()=>this.resetKeyHold())),this.addDragListeners()}addDragListeners(){const{main:e}=this.toy.elements;e.addEventListener("mousedown",this.boundMethods.dragStart),document.addEventListener("mousemove",this.boundMethods.dragMove),document.addEventListener("mouseup",this.boundMethods.dragEnd),e.addEventListener("touchstart",this.boundMethods.dragStart,{passive:!1}),document.addEventListener("touchmove",this.boundMethods.dragMove,{passive:!1}),document.addEventListener("touchend",this.boundMethods.dragEnd),e.addEventListener("contextmenu",(e=>e.preventDefault()))}handleGlobalKeydown(e){"Tab"!==e.key||e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||(e.preventDefault(),this.toy.cycleModes())}handleFieldsetKeydown(e){const t=["ArrowRight","ArrowUp","ArrowLeft","ArrowDown"].includes(e.key),s=["Home","End"].includes(e.key);if(!t&&!s)return;e.preventDefault();const n=this.toy.state.get("mode"),{min:o,max:a}=MODE_RANGES[n];return"Home"===e.key?this.toy.setValueAndFocus(o):"End"===e.key?this.toy.setValueAndFocus(a):void this.handleArrowNavigation(e)}handleArrowNavigation(e){0===this.keyHoldStart&&(this.keyHoldStart=Date.now());const t=Date.now()-this.keyHoldStart>1500,s=["ArrowRight","ArrowUp"].includes(e.key);this.toy.navigateValue(s?"forward":"backward",t)}handleFieldsetKeyup(e){["ArrowRight","ArrowUp","ArrowLeft","ArrowDown"].includes(e.key)&&this.resetKeyHold()}handleDragStart(e){e.preventDefault(),this.isDragging=!0;const{main:t,fieldset:s}=this.toy.elements;t.style.cursor="grabbing",document.body.style.userSelect="none",s.classList.add("dragging"),this.handleDragMove(e)}handleDragMove(e){if(!this.isDragging)return;e.preventDefault();const t=e.touches?e.touches[0].clientX:e.clientX,s=e.touches?e.touches[0].clientY:e.clientY,n=this.toy.elements.main.getBoundingClientRect(),o=t-(n.left+n.width/2),a=s-(n.top+n.height/2),i=(Math.atan2(a,o)*(180/Math.PI)+90+360)%360,r=this.toy.state.get("mode"),d=utils.angleToValue(i,r);d!==this.toy.state.get(r)&&(this.toy.state.setState({[r]:d}),this.toy.updateCheckedInput(d))}handleDragEnd(){if(!this.isDragging)return;this.isDragging=!1;const{main:e,fieldset:t}=this.toy.elements;e.style.cursor="",document.body.style.userSelect="",this.toy.focusCurrentValue(),setTimeout((()=>t.classList.remove("dragging")),300)}resetKeyHold(){this.keyHoldStart=0}}class DOMManager{constructor(e){this.toy=e,this.elements=this.cacheElements(),this.debouncedRegeneration=utils.debounce((()=>this.regenerateInputs()),150)}cacheElements(){return{root:document.documentElement,fieldset:document.querySelector("fieldset"),appTitle:document.querySelector(".mode-title"),componentValue:document.querySelector(".component-value"),copyBtn:document.getElementById("copy-btn"),randomBtn:document.getElementById("random-btn"),main:document.querySelector("main")}}updateModeDisplay(e){this.elements.appTitle.textContent=MODE_LABELS[e],this.elements.fieldset.className=`center mode-${e}`,this.elements.fieldset.setAttribute("aria-label",`${e} selector`);const{appTitle:t}=this.elements;t.style.transform="scale(1.1)",t.style.transition="all 120ms ease-in-out",setTimeout((()=>t.style.transform="scale(1)"),120)}regenerateInputs(){const e=this.toy.state.get("mode"),t=this.toy.state.get(e),s=this.elements.fieldset.contains(document.activeElement);this.elements.fieldset.innerHTML="",this.generateInputs(e),this.addInputListeners();const n=this.elements.fieldset.querySelector(`input[value="${t}"]`);n&&(n.checked=!0,s&&requestAnimationFrame((()=>n.focus())))}generateInputs(e){const{min:t,max:s}=MODE_RANGES[e],n="hue"===e?360:100;this.elements.fieldset.style.setProperty("--i-count",n.toString());const o=document.createDocumentFragment();for(let n=t;n<=s;n++)o.appendChild(this.createRadioInput(n,e));this.elements.fieldset.appendChild(o)}createRadioInput(e,t){const s=document.createElement("input"),n={hue:`${e} degrees`,saturation:`${e} percent saturation`,lightness:`${e} percent lightness`};return Object.assign(s,{type:"radio",name:t.charAt(0),value:e}),s.style.setProperty("--i",e),s.setAttribute("aria-label",n[t]),s}addInputListeners(){this.elements.fieldset.querySelectorAll('input[type="radio"]').forEach((e=>{e.addEventListener("change",(e=>{if(e.target.checked){const t=this.toy.state.get("mode");this.toy.state.setState({[t]:parseInt(e.target.value)}),e.target.focus()}}))}))}updateDisplay({hue:e,saturation:t,lightness:s}){const{root:n,componentValue:o}=this.elements,a=this.toy.state.get("mode");n.style.setProperty("--hue",e),n.style.setProperty("--saturation",t),n.style.setProperty("--lightness",s),n.style.setProperty("--color-canvas",`hsl(${e}, ${t}%, ${s}%)`);const i=this.calculateDynamicColors(e,t,s);n.style.setProperty("--color-dark",i.background),n.style.setProperty("--color-light",i.foreground),o.textContent=this.toy.state.get(a)}calculateDynamicColors(e,t,s){const n=utils.hslToRgb(e,t,s);let o=25;s>80?o=12:s>60?o=18:s>40&&(o=22);const a=utils.clamp(.9*t,40,85);let i=utils.hslToRgb(e,a,o);utils.getContrastRatio(n,i)<4.5&&(o=Math.max(8,o-5),i=utils.hslToRgb(e,a,o));return{background:`hsl(${e}, ${a}%, ${o}%)`,foreground:`hsl(${e}, ${Math.min(40,.6*a)}%, 92%)`}}}class HSLColorToy{constructor(){this.state=new ColorState,this.dom=new DOMManager(this),this.events=new EventManager(this),this.elements=this.dom.elements,this.init()}init(){this.state.subscribe((e=>this.dom.updateDisplay(e))),this.dom.generateInputs(this.state.get("mode")),this.dom.addInputListeners(),this.events.addListeners(),this.setInitialState()}setInitialState(){const e=this.state.get("mode"),t=this.state.get(e);this.dom.updateModeDisplay(e);const s=this.elements.fieldset.querySelector(`input[value="${t}"]`);s&&(s.checked=!0,s.focus()),this.dom.updateDisplay(this.state.get())}cycleModes(){const e=MODES.indexOf(this.state.get("mode")),t=MODES[(e+1)%MODES.length];this.switchMode(t),this.focusCurrentValue()}switchMode(e){this.state.setState({mode:e}),this.dom.updateModeDisplay(e),this.dom.debouncedRegeneration()}setValueAndFocus(e){const t=this.elements.fieldset.querySelector(`input[value="${e}"]`);if(t){t.checked=!0,t.focus();const s=this.state.get("mode");this.state.setState({[s]:e})}}updateCheckedInput(e){const t=this.elements.fieldset.querySelector(`input[value="${e}"]`);t&&(t.checked=!0)}focusCurrentValue(){setTimeout((()=>{const e=this.state.get(this.state.get("mode")),t=this.elements.fieldset.querySelector(`input[value="${e}"]`);t&&(t.checked=!0,t.focus())}),10)}navigateValue(e,t=!1){const s=this.elements.fieldset.querySelector("input:checked");if(!s)return;const n=parseInt(s.value),o=this.state.get("mode"),a=t?9:1,{min:i,max:r}=MODE_RANGES[o];let d;"forward"===e?(d=n+a,d>r&&(d="hue"===o?d-360:i)):(d=n-a,d<i&&(d="hue"===o?360+d:r)),this.setValueAndFocus(d)}generateRandomColor(){this.state.setState({hue:Math.floor(360*Math.random())+1,saturation:Math.floor(21*Math.random())+80,lightness:Math.floor(21*Math.random())+40}),this.focusCurrentValue()}async copyHSLToClipboard(){const{hue:e,saturation:t,lightness:s}=this.state.get(),n=`hsl(${e}, ${t}%, ${s}%)`;try{await navigator.clipboard.writeText(n),this.showCopySuccess()}catch(e){this.fallbackCopy(n),this.showCopySuccess()}}fallbackCopy(e){const t=Object.assign(document.createElement("textarea"),{value:e});document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}showCopySuccess(){this.elements.copyBtn.classList.add("copy-success"),setTimeout((()=>this.elements.copyBtn.classList.remove("copy-success")),1e3)}}document.addEventListener("DOMContentLoaded",(()=>{try{new HSLColorToy}catch(e){console.error("Error initializing HSL Color Toy:",e)}}));</script></body></html>
